

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pyart.map.grid_mapper.map_to_grid &mdash; Py-ART Documentation (DRAFT)</title>
    
    <link rel="stylesheet" href="../../_static/scipy.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.0.dev-2632d0f',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Py-ART Documentation (DRAFT)" href="../../index.html" />
    <link rel="up" title="pyart.map" href="../map.html" />
    <link rel="next" title="pyart.map.grid_mapper._load_nn_field_data" href="pyart.map.grid_mapper._load_nn_field_data.html" />
    <link rel="prev" title="pyart.map.grid_mapper.grid_from_radars" href="pyart.map.grid_mapper.grid_from_radars.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pyart.map.grid_mapper._load_nn_field_data.html" title="pyart.map.grid_mapper._load_nn_field_data"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="pyart.map.grid_mapper.grid_from_radars.html" title="pyart.map.grid_mapper.grid_from_radars"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Py-ART Documentation (DRAFT)</a> &raquo;</li>
          <li><a href="../index.html" >Developer Reference Manual</a> &raquo;</li>
          <li><a href="../map.html" accesskey="U">pyart.map</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pyart-map-grid-mapper-map-to-grid">
<h1>pyart.map.grid_mapper.map_to_grid<a class="headerlink" href="#pyart-map-grid-mapper-map-to-grid" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="pyart.map.grid_mapper.map_to_grid">
<tt class="descclassname">pyart.map.grid_mapper.</tt><tt class="descname">map_to_grid</tt><big>(</big><em>radars</em>, <em>grid_shape=(81</em>, <em>81</em>, <em>69)</em>, <em>grid_limits=((-30000.0</em>, <em>20000)</em>, <em>(-20000.0</em>, <em>20000.0)</em>, <em>(0</em>, <em>17000.0))</em>, <em>grid_origin=None</em>, <em>fields=None</em>, <em>refl_field='reflectivity_horizontal'</em>, <em>max_refl=190.0</em>, <em>qrf_func=None</em>, <em>map_roi=True</em>, <em>weighting_function='Barnes'</em>, <em>toa=17000.0</em>, <em>h_factor=1.0</em>, <em>nb=1.5</em>, <em>bsp=1.0</em>, <em>min_radius=500.0</em>, <em>copy_field_data=True</em>, <em>algorithm='kd_tree'</em>, <em>leafsize=10</em>, <em>badval=-9999.0</em><big>)</big><a class="reference external" href="http://github.com/ARM-DOE/pyart/blob/master/pyart/map/grid_mapper.py#L242"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyart.map.grid_mapper.map_to_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Map one or more radars to a Cartesian grid.</p>
<p>Generate a Cartesian grid of points for the requested fields from the
collected points from one or more radars.  The field value for a grid
point is found by interpolating from the collected points within a given
radius of influence and weighting these nearby points according to their
distance from the grid points. Collected points are filtered
according to a number of criteria so that undesired points are not
included in the interpolation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>radars</strong> : tuple of Radar objects.</p>
<blockquote>
<div><p>Radar objects which will be mapped to the Cartesian grid.</p>
</div></blockquote>
<p><strong>grid_shape</strong> : 3-tuple of floats</p>
<blockquote>
<div><p>Number of points in the grid (x, y, z).</p>
</div></blockquote>
<p><strong>grid_limits</strong> : 3-tuple of 2-tuples</p>
<blockquote>
<div><p>Minimum and maximum grid location (inclusive) in meters for the
x, y, z coordinates.</p>
</div></blockquote>
<p><strong>grid_origin</strong> : (float, float) or None</p>
<blockquote>
<div><p>Latitude and longitude of grid origin.  None sets the origin
to the location of the first radar.</p>
</div></blockquote>
<p><strong>fields</strong> : list or None</p>
<blockquote>
<div><p>List of fields within the radar objects which will be mapped to
the cartesian grid. None, the default, will map the fields which are
present in all the radar objects.</p>
</div></blockquote>
<p><strong>refl_field</strong> : str</p>
<blockquote>
<div><p>Name of the field which will be used to filter the collected points
based on masking and maximum reflectivity.</p>
</div></blockquote>
<p><strong>max_refl</strong> : float</p>
<blockquote>
<div><p>Maximum allowable reflectivity.  Points in the refl_field which are
above is value are not included in the interpolation.</p>
</div></blockquote>
<p><strong>qrf_func</strong> : function or None</p>
<blockquote>
<div><p>Query radius of influence function.  A functions which takes an
x, y, z grid location, in meters, and returns a radius (in meters)
within which all collected points will be included in the weighting
for that grid points. None will use a function which takes into
account the h_factor, nb and bsp parameters and increases the radius
quadratically with elevation.</p>
</div></blockquote>
<p><strong>map_roi</strong> : bool</p>
<blockquote>
<div><p>True to include a radius of influence field in the returned
dictionary under the &#8216;ROI&#8217; key.  This is the value of qrf_func at all
grid points.</p>
</div></blockquote>
<p><strong>weighting_functions</strong> : &#8216;Barnes&#8217; or &#8216;Cressman&#8217;</p>
<blockquote>
<div><p>Functions used to weight nearby collected points when interpolating a
grid point.</p>
</div></blockquote>
<p><strong>toa</strong> : float</p>
<blockquote>
<div><p>Top of atmosphere in meters. Collected points above this height are
not included in the interpolation.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>grids</strong> : dict</p>
<blockquote>
<div><p>Dictionary of mapped fields.  The keysof the dictionary are given by
parameter fields.  Each elements is a <cite>grid_size</cite> float64 array
containing the interpolated grid for that field.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Other Parameters:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first"><strong>h_factor</strong> : float</p>
<blockquote>
<div><p>H factor which influences the increase in the radius of influence as
elevation increases.  Only used when qrf_func is None.</p>
</div></blockquote>
<p><strong>nb</strong> : float</p>
<blockquote>
<div><p>Virtual beam width. Only used when qrf_func is None.</p>
</div></blockquote>
<p><strong>bsp</strong> : float</p>
<blockquote>
<div><p>Virtual beam spacing. Only used when qrf_func is None.</p>
</div></blockquote>
<p><strong>min_radius</strong> : float</p>
<blockquote>
<div><p>Minimum radius of influence. Only used when qrf_func is None.</p>
</div></blockquote>
<p><strong>copy_field_data</strong> : bool</p>
<blockquote>
<div><p>True to copy the data within the radar fields for faster gridding,
False will not copy the data which will use less memory but result in
significantly fast gridding times.</p>
</div></blockquote>
<p><strong>algorithm</strong> : &#8216;kd_tree&#8217; or &#8216;ball_tree&#8217;</p>
<blockquote>
<div><p>Algorithms to use for finding the nearest neighbors. &#8216;kd_tree&#8217; tends
to be faster.  This value should only effects the speed of the
gridding, not the results.</p>
</div></blockquote>
<p><strong>leafsize</strong> : int</p>
<blockquote>
<div><p>Leaf size passed to the neighbor lookup tree. This can affect the
speed of the construction and query, as well as the memory required
to store the tree. The optimal value depends on the nature of the
problem. This value should only effect the speed of the gridding,
not the results.</p>
</div></blockquote>
<p><strong>badval</strong> : float</p>
<blockquote class="last">
<div><p>Value to set points in the grid to which have no valid collected
points within  the radius of influence.  These points are also masked.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="pyart.map.grid_mapper.grid_from_radars.html#pyart.map.grid_mapper.grid_from_radars" title="pyart.map.grid_mapper.grid_from_radars"><tt class="xref py py-obj docutils literal"><span class="pre">grid_from_radars</span></tt></a></dt>
<dd>Map to grid and return a Grid object.</dd>
</dl>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="pyart.map.grid_mapper.grid_from_radars.html"
                        title="previous chapter">pyart.map.grid_mapper.grid_from_radars</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pyart.map.grid_mapper._load_nn_field_data.html"
                        title="next chapter">pyart.map.grid_mapper._load_nn_field_data</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/dev_reference/generated/pyart.map.grid_mapper.map_to_grid.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pyart.map.grid_mapper._load_nn_field_data.html" title="pyart.map.grid_mapper._load_nn_field_data"
             >next</a> |</li>
        <li class="right" >
          <a href="pyart.map.grid_mapper.grid_from_radars.html" title="pyart.map.grid_mapper.grid_from_radars"
             >previous</a> |</li>
        <li><a href="../../index.html">Py-ART Documentation (DRAFT)</a> &raquo;</li>
          <li><a href="../index.html" >Developer Reference Manual</a> &raquo;</li>
          <li><a href="../map.html" >pyart.map</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Py-ART developers.
      Last updated on Oct 29, 2013.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>